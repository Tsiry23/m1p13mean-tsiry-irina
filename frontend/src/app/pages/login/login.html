<div class="login-wrapper d-flex justify-content-center align-items-center min-vh-100">
  <div class="login-card">

    <!-- Panneau gauche : formulaire -->
    <div class="login-form-panel">
      <div class="login-form-inner">
        <div class="login-header">
          <p class="login-welcome">BIENVENUE SUR</p>
          <div class="login-brand">
            <span class="brand-name">MonApp</span>
          </div>
          <p class="login-subtitle">Connectez-vous pour accéder à votre espace personnel.</p>
        </div>

        <form (ngSubmit)="login()" #loginForm="ngForm" class="login-form">

          <!-- Email -->
          <div class="field-group">
            <div class="input-wrapper">
              <i class="bi bi-envelope field-icon"></i>
              <input
                type="email"
                class="field-input"
                name="email"
                [(ngModel)]="email"
                placeholder="Adresse email"
                required
                email
              />
            </div>
          </div>

          <!-- Mot de passe -->
          <div class="field-group">
            <div class="input-wrapper">
              <i class="bi bi-lock field-icon"></i>
              <input
                [type]="showPassword ? 'text' : 'password'"
                class="field-input"
                name="mdp"
                [(ngModel)]="mdp"
                placeholder="Mot de passe"
                required
              />
              <button
                type="button"
                class="toggle-password"
                (click)="togglePassword()"
                tabindex="-1"
              >
                <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
              </button>
            </div>
          </div>

          <!-- Erreur -->
          @if (errorMessage) {
            <div class="error-message">
              <i class="bi bi-exclamation-circle"></i>
              {{ errorMessage }}
            </div>
          }

          <!-- Bouton -->
          <button
            type="submit"
            class="btn-signin"
            [disabled]="loading || !loginForm.valid"
          >
            @if (loading) {
              <span class="spinner"></span>
              Connexion...
            } @else {
              Se connecter
            }
          </button>

          <p class="signup-link">
            Pas encore de compte ?
            <a href="#">Créer un compte</a>
          </p>
        </form>
      </div>
    </div>

    <!-- Panneau droit : visuel -->
    <div class="login-visual-panel">
      <div class="visual-overlay"></div>
      <div class="visual-content">
        <div class="visual-logo">
          <i class="bi bi-infinity visual-logo-icon"></i>
          <span class="visual-logo-text">MonApp</span>
        </div>
        <p class="visual-tagline">
          Votre plateforme tout-en-un pour gérer, collaborer et performer au quotidien.
        </p>
      </div>
    </div>

  </div>
</div>